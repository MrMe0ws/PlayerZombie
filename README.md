# PlayerZombie

Плагин для Minecraft сервера на Spigot 1.21+, который создает зомби на месте смерти игрока с именем погибшего игрока.

## Описание

PlayerZombie добавляет интересную механику в игру: когда игрок умирает, на месте его смерти появляется зомби с именем погибшего игрока. Это создает дополнительный вызов для игроков - они могут вернуться на место смерти и сразиться со "своим" зомби, чтобы забрать вещи.

## Возможности

- ✅ Автоматическое создание зомби при смерти игрока
- ✅ Зомби получает имя погибшего игрока
- ✅ Настраиваемый тип зомби (ZOMBIE или HUSK)
- ✅ Опция подбора вещей зомби
- ✅ Работа с выгруженными чанками
- ✅ Простая конфигурация
- ✅ Команда перезагрузки конфигурации

## Установка

1. Соберите плагин с помощью Maven:

   ```bash
   mvn clean package
   ```

2. Скопируйте файл `target/PlayerZombie-1.0.0.jar` в папку `plugins` вашего сервера

3. Перезапустите сервер

4. При первом запуске будет создан файл `config.yml` в папке плагина

5. Настройте параметры в `plugins/PlayerZombie/config.yml` (опционально)

## Конфигурация

Файл `config.yml` находится в папке `plugins/PlayerZombie/`:

```yaml
# Тип зомби: HUSK или ZOMBIE
zombie-type: HUSK

# Может ли зомби, появляющийся на месте смерти игрока, подбирать вещи
zombie-can-pickup-items: false
```

### Параметры:

- **zombie-type** - Тип зомби, который будет создаваться при смерти игрока

  - `ZOMBIE` - Обычный зомби (по умолчанию)
  - `HUSK` - Хаск (зомби из пустыни, не горит на солнце)
  - Другие типы зомби не поддерживаются

- **zombie-can-pickup-items** - Может ли зомби подбирать вещи с земли
  - `true` - Зомби будет подбирать вещи (может быть опасно!)
  - `false` - Зомби не будет подбирать вещи (по умолчанию)

## Команды

### `/playerzombie reload`

Перезагружает конфигурацию плагина.

- **Права**: `playerzombie.reload` (по умолчанию: `op`)
- **Использование**: `/playerzombie reload`

## Права доступа

- `playerzombie.reload` - Право на перезагрузку конфигурации (по умолчанию: `op`)

## Как это работает

1. Когда игрок умирает, плагин:

   - Определяет место смерти игрока
   - Загружает чанк, если он был выгружен
   - Создает зомби указанного типа на месте смерти
   - Устанавливает имя зомби равным имени погибшего игрока
   - Делает имя видимым над головой зомби
   - Настраивает возможность подбора вещей согласно конфигурации

2. Игрок может вернуться на место смерти и:
   - Сразиться со "своим" зомби
   - Забрать вещи, которые упали при смерти
   - Получить дополнительный вызов в игре

## Примеры использования

### Обычные зомби

```yaml
zombie-type: ZOMBIE
zombie-can-pickup-items: false
```

### Хаски (не горят на солнце)

```yaml
zombie-type: HUSK
zombie-can-pickup-items: false
```

### Опасные зомби (подбирают вещи)

```yaml
zombie-type: ZOMBIE
zombie-can-pickup-items: true # Зомби будет подбирать вещи!
```

## Особенности

- **Работа с чанками**: Плагин автоматически загружает чанк, если игрок умер один и чанк был выгружен
- **Имена зомби**: Имя погибшего игрока отображается над головой зомби
- **Совместимость**: Работает со всеми версиями Spigot/Bukkit/Paper 1.21+

## Требования

- **Minecraft**: 1.21+
- **Сервер**: Spigot/Bukkit/Paper
- **Java**: 21+ (для компиляции)

## Сборка

```bash
mvn clean package
```

JAR-файл будет создан в папке `target/`.

## Примечания

- Зомби создается сразу после смерти игрока
- Если чанк был выгружен, плагин автоматически загрузит его
- Зомби ведет себя как обычный зомби, но с именем игрока
- Если включен `zombie-can-pickup-items: true`, зомби может подобрать вещи игрока, что усложняет их возврат
